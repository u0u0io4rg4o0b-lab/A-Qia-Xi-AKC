<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <!-- 允許未登入者訪問，但觀看影片需驗證 -->
  <meta name="akc-auth" content="open" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>課程播放｜阿卡西圖書館</title>
  <!-- 全域設定與相依套件 -->
  <script src="JS/config.js"></script>

<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

  <script src="JS/firebase.js"></script>
  <!-- Tailwind CSS （建議使用 CDN 或自行打包） -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen text-gray-900">
  <!-- 導覽列插槽 -->
  <div id="navbar-placeholder"></div>
  <!-- 載入導覽列與樣式、初始化腳本 -->
  <script src="JS/navbar-loader.js"></script>

  <script src="JS/init-page.js"></script>

   <script src="JS/siwe.js?v=20250911b" defer></script>
 <script src="JS/wallet.js" defer></script>
<script src="JS/points.js" defer></script>
  <script src="JS/auth-control.js"></script>
  <!-- 課程存取檢查函式 -->
  <script src="JS/checkAccess.js"></script>

  <main class="max-w-6xl mx-auto p-4">
    <h1 id="title" class="text-2xl font-bold mb-2"></h1>
    <p id="description" class="text-gray-700 mb-4"></p>

    <!-- 主區塊：影片 / 文章 / 進度條 -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- 影片或文章容器 -->
      <div class="col-span-2">
        <div id="playerContainer" class="relative w-full aspect-video bg-black rounded overflow-hidden">
          <!-- 影片播放器 -->
          <video id="videoPlayer" class="w-full h-full hidden" controls></video>
          <!-- 文章內容（顯示文章單元） -->
          <div id="articleViewer" class="w-full h-full p-4 bg-white overflow-y-auto hidden"></div>
        </div>
        <!-- 單元觀看進度條 -->
        <div id="progressContainer" class="h-2 bg-gray-200 rounded overflow-hidden mt-2 hidden">
          <div id="progressBar" class="h-2 bg-blue-600" style="width:0%"></div>
        </div>
      </div>
      <!-- 章節清單 -->
      <div>
        <h2 class="text-xl font-semibold mb-2">課綱</h2>
        <div id="outlineContainer">
          <ul id="outlineList" class="space-y-2"></ul>
        </div>
      </div>
    </div>
  </main>

  <!-- 課程播放邏輯 -->
    <script src="JS/points.js"></script>
  <script src="JS/course-view.js"></script>
  <script src="JS/main.js"></script>
  <script src="JS/ui.js"></script>
</body>
</html>
